{% extends "base.html" %}

{% block title %}Home – Healthcare Integration Demo{% endblock %}

{% block content %}
  <div class="row mb-4">
    <div class="col-lg-8">
      <h1 class="mb-3">Healthcare Integration Demo</h1>
      <p class="lead">
        This demo shows a realistic healthcare integration flow:
        <strong>HL7 v2 → FHIR R4 → X12 (837/835)</strong> with
        Mirth Connect, Django REST Framework, and a Postgres backend.
      </p>
      <p class="text-muted">
        Use the sections below to explore how an HL7 message can be transformed
        into modern formats and logged for auditing and analytics.
      </p>
    </div>
  </div>

  <div class="row g-4">
    <!-- HL7 Playground card -->
    <div class="col-md-4">
      <div class="card h-100">
        <div class="card-body d-flex flex-column">
          <h5 class="card-title">HL7 Playground</h5>
          <p class="card-text">
            Paste ADT/ORM/ORU HL7 v2 messages and see how they are parsed into
            <span class="badge bg-secondary badge-hl7">HL7</span>
            <span class="badge bg-secondary badge-fhir">FHIR R4</span>
            and
            <span class="badge bg-secondary badge-x12">X12 837</span>
            structures.
          </p>
          <div class="mt-auto">
            <a href="{% url 'hl7-playground' %}" class="btn btn-primary btn-sm">
              Open HL7 Playground
            </a>
          </div>
        </div>
      </div>
    </div>

    <!-- Mirth Live Feed card -->
    <div class="col-md-4">
      <div class="card h-100">
        <div class="card-body d-flex flex-column">
          <h5 class="card-title">Mirth Live Feed</h5>
          <p class="card-text">
            View messages coming in from
            <strong>Mirth Connect channels</strong> into the Django API.
            Inspect the raw HL7, mapped FHIR resources, and generated X12 payloads.
          </p>
          <div class="mt-auto">
            <a href="{% url 'mirth-messages' %}" class="btn btn-outline-primary btn-sm">
              View Mirth Messages
            </a>
          </div>
        </div>
      </div>
    </div>

    <!-- API & Security card -->
    <div class="col-md-4">
      <div class="card h-100">
        <div class="card-body d-flex flex-column">
          <h5 class="card-title">API & Security</h5>
          <p class="card-text">
            The backend uses Django REST Framework with JWT authentication
            (for demo clients) and optional HMAC validation (for Mirth
            server-to-server calls). Logs are stored in Postgres for
            traceability.
          </p>
          <ul class="small text-muted mb-3">
            <li>JWT-protected HL7 transform endpoint</li>
            <li>HMAC signature for Mirth HTTP sender</li>
            <li>Synthetic data only – no real PHI</li>
          </ul>
          <div class="mt-auto">
            <!-- 这里可以以后指向 README 或 API docs 页面 -->
            <a href="#" class="btn btn-light btn-sm disabled" aria-disabled="true">
              API Docs (coming soon)
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
{% endblock %}

{% block extra_js %}
  {# 如需 home 页专用 JS，可以写在这里 #}
{% endblock %}
